# Bluro

**Bluro** is a headless content management (CMS) system that was built with a clear goal to
achieve - build something interesting and learn useful skills. As a part of the project a blog "Tech
Overload" was build.

## Content

-   [Blog that was built with the use of Bluro](##TechOverload)
    -   [API overview](##API)

---

## TechOverload

## API

### API endpoints

-   Authentication
    -   /signup - POST - register account [see](###Authentication)
    -   /login - POST - user authentication [see](###Registration)
-   Articles
    -   /articles - GET - get collection of articles
    -   /articles/:id - GET - get article by id or verbose name (if exists)
    -   /articles - POST - create new article
    -   /articles/:id - PUT - update article by id or verbose name (if exists)
    -   /articles/:id - DELETE - delete article by id or verbose name (if exists)
-   Profiles
    -   /profiles - GET - get collection of profiles
    -   /profiles/:id - GET - get article by id or verbose name (if exists)

### Authentication

**Requests**

```json
{
    "email": string,
    "pass": string
{
```

**Response**

```json
{
	"session": {
		"userName": string,
		"email": string,
		"role": string
	},

	"errors": string[],
	"success": string[],
	"info": string[]
}
```

**Codes**  
200 - Logged in  
403 - Wrong username or password

### Registration

**Request**

```json
{
	"login": string,
	"email": string,
	"pass": string,
	"repPass": string
}
```

**Response**

```json
{
	"errors": string[],
	"success": string[],
	"info": string[]
}
```

**Codes**  
201 - Created

### Articles

#### Modify article (create or update)

**End point**

-   /articles/:id - PUT - modify
-   /articles - POST - create

**Request**

Headers: `Content-Type: multipart/form-data`

Files:

-   `content` - text content of an article
-   `previewImg` - preview image

```json
{
	"verbose": [string], // human readable name, if not specified, autogenerated will be used
	"publDate": [string], // date and time of publication or null if an article in drafts (in milliseconds)
	"changeDate": string, // date and time of changing (in milliseconds)
	"title": string,
	"description": string
}
```

`NOTE:` in the case of updating article all request parameters (including files) are optional but at
least one has to be specified

**Response**

```json
{
	"errors": string[],
	"success": string[],
	"info": string[]
}
```

**Codes**  
201 - Created  
200 - Updated  
403 - Forbidden updating someone else's article  
401 - Unauthorized user

#### Get article (articles)

GET

-   /articles/:id
-   /articles?count=number

Query parameters `count` and `offset` may be specified to get a part of collection, default 10 and 0
respectively

No request body needed

**Response**

```json
{
	"errors": string[],
	"success": string[],
	"info": string[],

	"collection": {
		"count": number,
		"offset": number,
		"data": object[] // Collection of data
	}
}
```

```json
{
	"errors": string[],
	"success": string[],
	"info": string[],

	"entry": [object]
}
```

**Codes**  
200 - Ok  
404 - Article or articles weren't found

### Profiles

### General Response

```json
{
	"session": {
		"userName": string,
		"email": string,
		"role": string
	},

	"errors": string[],
	"success": string[],
	"info": string[],

	"collection": {
		"count": number, // Number of items in the collection
		"data": object[] // Collection of data
	}
}
```

### Codes

200 **OK** - Standard response for successful HTTP requests. Data Updated, Delete

201 **Created** - The request has been fulfilled, resulting in the creation of a new resource.

202 **Accepted** - The request has been accepted for processing, but the processing has not been
completed. Async operation e.g. DELETE resource

400 **Bad Request** - The HTTP request that was sent to the server has invalid syntax.

401 **Unauthorized** - The user trying to access the resource has not been authenticated or has not
been authenticated correctly.

403 **Forbidden** - The user made a valid request but the server is refusing to serve the request,
due to a lack of permission to access the requested resource.

404 **Not Found** - The user is able to communicate with the server but it is unable to locate the
requested file or resource.

500 **Internal Server Error** - Server cannot process the request for an unknown reason.

### Start

To start bluro cms you need to provide some config parameters. You can do it ether by passing into
config.json in the root of the bluro_cms directory or by specifying environment variable. I'd
recommend set sensitive data as an environment variable.

Environment variables:

-   secret - string that will be used to generate and validate JWT (JS Website Tokens)

## Structure

## Features
